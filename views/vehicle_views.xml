<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record model='ir.ui.view' id='fleet_vehicle_modification_tree'>
            <field name="name">fleet.vehicle.modification.tree</field>
            <field name="model">fleet.vehicle.modification</field>
            <field name="arch" type="xml">
                <tree editable="top">
                    <field name="vehicle_id"/>
                    <field name="related_vehicle_id" domain="[('id','!=',vehicle_id)]" options="{'no_create': True}"/>
                    <field name="date"/>
                </tree>
            </field>
        </record>

        <record id="fleet_vehicle_modification_filter" model="ir.ui.view">
            <field name="name">fleet.vehicle.modification.select</field>
            <field name="model">fleet.vehicle.modification</field>
            <field name="arch" type="xml">
                <search>
                    <field name="vehicle_id"/>
                    <field name="related_vehicle_id"/>
                    <group expand="0" string="Group By">
                        <filter name="group_by_vehicle_id" string="Engins" context="{'group_by':'vehicle_id'}"/>
                        <filter name="group_by_related_vehicle_id" string="Engins reliÃ©s"
                                context="{'group_by':'related_vehicle_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id='fleet_vehicle_modification_act' model='ir.actions.act_window'>
            <field name="name">Accrochage</field>
            <field name="res_model">fleet.vehicle.modification</field>
            <field name="view_mode">tree,form</field>
        </record>

    </data>
</odoo>